
<!doctype>
<html>
<head>
	<script src="js/jquery.js" type="text/javascript"></script>
	<script src="js/StackBlur.js" type="text/javascript"></script>
<style>
body{
background:#000000;

overflow:hidden;
}
#BgImg{
position:absolute;
z-index:-100;
}
#main{

width:700px;
height:700px;
color:#ffffff;
position:absolute;
z-index:12;
left:150px;
top:30px;

border-radius:1px;
box-shadow:-1px -1px 4px rgba(115,115,115,0.6) inset,
			1px 1px 4px rgba(115,115,115,0.6) inset
;
}
#canvas{
z-index:1;
position:absolute;

}

</style>
</head>
<body>
<img src='img/4.png'  id='BgImg' />
	<div id='main'>
	</div>
	<canvas id='canvas' ></canvas>
</body>
<script>
//拖动
function change(obj,moves)
{
		moves.οnmοusedοwn=function(ev)
		{

			var disx=0;
			var disy=0;
			var oev=ev||event;

			disx=oev.clientX-obj.offsetLeft;
			disy=oev.clientY-obj.offsetTop;
			document.οnmοusemοve=function(ev)
			{


				var oev=ev||event;
				var l=oev.clientX-disx; //DIV x轴位置
				var t=oev.clientY-disy;	//DIV y轴位置
				if(l<0)
				{
					l=0;
				}
				else if(l>document.documentElement.clientWidth-obj.offsetWidth)
				{
					l=document.documentElement.clientWidth-obj.offsetWidth;
				}
				if(t<0)
				{
					t=0;
				}




				obj.style.left=l+"px";
				obj.style.top=t+"px";
				Blur();
			}


			document.οnmοuseup=function()
			{
				Blur();
				document.οnmοusemοve=null;
				document.οnmοuseup=null;


			}
			return false; //组织默认事件
		}







}
function Blur(){

		stackBlurImage( 'BgImg', 'canvas', 64,'main' );
}
 window.οnlοad=function(){

	var aa = document.getElementById("canvas");
	var bb = document.getElementById("main");
	change(bb,bb);


}

</script>
</html>
